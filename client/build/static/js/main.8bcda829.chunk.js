(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},128:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(26),l=a.n(c),i=a(7),r=a(9),o=a(11),m=a(10),u=a(12),d=a(54),h=a(18),p=(a(42),a(16)),v=a(6),g=a(24),E=function(e){var t=Object(h.f)(),a=Object(n.useState)({what:"",where:""}),c=Object(g.a)(a,2),l=c[0],i=c[1],r=function(e){var t=e.target,a=t.name,n=t.value;i(Object(v.a)({},l,Object(p.a)({},a,n)))};return s.a.createElement("form",{className:"field has-addons",onSubmit:function(a){""!==l.what&&""!==l.where?t.push("/search?what=".concat(l.what,"&where=").concat(l.where)):""!==l.what&&""===l.where?t.push("/search?what=".concat(l.where,"&where=").concat(e.zip)):""===l.what&&""!==l.where?t.push("/search?what=all&where=".concat(l.where)):t.push("search?what=all&where=".concat(e.zip)),a.preventDefault()}},s.a.createElement("p",{className:"control"},s.a.createElement("input",{type:"text",className:"input",placeholder:"What to do?",name:"what",value:l.what,onChange:r})),s.a.createElement("p",{className:"control"},s.a.createElement("input",{type:"text",className:"input",placeholder:"Where to go?",name:"where",value:l.where,onChange:r})),s.a.createElement("p",{className:"control"},s.a.createElement("button",{type:"submit",className:"button is-primary",onClick:function(){document.getElementById("search")&&document.getElementById("search").classList.toggle("is-active")}},s.a.createElement("i",{className:"fas fa-search"}))))},f=a(15),b=a(31),N=a.n(b);a(73);a(75).config();var w={apiKey:"AIzaSyDOZ6d6M5cnuKqBL4IyYXKu7TU_Rt-POFw",authDomain:"localsonly-a3c68.firebaseapp.com",databaseURL:"https://localsonly-a3c68.firebaseio.com",projectId:"localsonly-a3c68",storageBucket:"localsonly-a3c68.appspot.com",messagingSenderId:"583296937791",appId:"1:583296937791:web:59de121a0df2fa83eead8a",measurementId:"G-RVH5R21C1C"},y=s.a.createContext(null),O=function(e){return function(t){return s.a.createElement(y.Consumer,null,function(a){return s.a.createElement(e,Object.assign({},t,{firebase:a}))})}},j=O(function(e){var t=e.firebase,a=Object(h.f)();return s.a.createElement("button",{className:"button is-primary",onClick:function(){t.signOut(),"/createNewLocal"===window.location.pathname&&a.push("/")}},s.a.createElement("i",{className:"fas fa-door-open"}))}),C=function(){return s.a.createElement(f.b,{to:"/"},s.a.createElement("img",{src:a(45),alt:"localsonly-logo"}))},k=function(){return s.a.createElement(f.b,{className:"button has-background-primary-light",to:"/createNewLocal",onClick:function(){document.getElementById("search")&&document.getElementById("search").classList.remove("is-active"),document.getElementById("sign")&&document.getElementById("sign").classList.remove("is-active")}},s.a.createElement("i",{className:"fas fa-plus-circle"}))},S=a(30),I=a(8),L=a.n(I),x=a(21),A="sign",D="search",M=function(e){var t=e.setUser,a=e.user,c=e.status,l=e.setStatus,i=e.firebase;Object(n.useEffect)(function(){(function(){var e=Object(x.a)(L.a.mark(function e(){return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(a.email).toLowerCase())){e.next=20;break}return e.next=4,i.emailIsAvailable(a.email).length;case 4:if(e.t0=e.sent,!(0===e.t0)){e.next=17;break}return e.t1=console,e.next=10,i.emailIsAvailable(a.email);case 10:e.t2=e.sent,e.t1.log.call(e.t1,e.t2),document.getElementById("email").classList.add("is-success"),document.getElementById("email").classList.remove("is-danger"),l(Object(v.a)({},c,{user:!0})),e.next=20;break;case 17:document.getElementById("email").classList.add("is-danger"),document.getElementById("email").classList.remove("is-success"),l(Object(v.a)({},c,{user:!1}));case 20:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()(),a.passwordOne.length>5&&(document.getElementById("passwordOne").classList.add("is-success"),a.passwordTwo.length>5&&(a.passwordOne===a.passwordTwo?(document.getElementById("passwordOne").classList.add("is-success"),document.getElementById("passwordOne").classList.remove("is-danger"),l(Object(v.a)({},c,{user:!0}))):(document.getElementById("passwordOne").classList.add("is-danger"),document.getElementById("passwordOne").classList.remove("is-success"),l(Object(v.a)({},c,{user:!1})))))},[a]);var r=function(e){var n=e.target,s=n.name,c=n.value;t(Object(v.a)({},a,Object(p.a)({},s,c))),e.preventDefault()};return s.a.createElement("section",{id:"signup",className:"container is-centered"},s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{name:"name",value:a.name,onChange:r,type:"text",placeholder:"Full Name",className:"input",autoFocus:!0}))),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{id:"email",name:"email",value:a.email,onChange:r,type:"text",placeholder:"Email Address",className:"input"}))),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{id:"passwordOne",name:"passwordOne",value:a.passwordOne,onChange:r,type:"password",placeholder:"Password",className:"input"}))),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{id:"passwordTwo",name:"passwordTwo",value:a.passwordTwo,onChange:r,type:"password",placeholder:"Confirm Password",className:"input"}))),a.error&&s.a.createElement("p",{className:"help is-danger"},a.error.message))},z=function(){return Object(n.useEffect)(function(){if(document.getElementById(A)){var e=document.getElementById(A),t=document.getElementById("signup-button");document.addEventListener("click",function(a){t.contains(a.target)&&e.classList.contains("is-active")&&e.classList.remove("is-active")})}}),s.a.createElement("small",null,"Don't have an account? ",s.a.createElement(f.b,{id:"signup-button",className:"has-text-link",to:"/registration"},"Sign Up!"))},T={email:"",password:"",error:null},B=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=t.email,s=t.password;a.props.firebase.signInWithEmailAndPassword(n,s).then(function(){a.setState(Object(v.a)({},T))}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(p.a)({},e.target.name,e.target.value))},a.state=Object(v.a)({},T),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,c=""===a||""===t;return s.a.createElement("form",{onSubmit:this.onSubmit,className:"container is-centered"},s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{name:"email",value:t,onChange:this.onChange,type:"text",placeholder:"Email Address",className:"input"}))),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{name:"password",value:a,onChange:this.onChange,type:"password",placeholder:"Password",className:"input"}))),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("button",{className:"button is-outlined ".concat(c?"is-danger":"is-link"),disabled:c,type:"submit"},"Sign In")),s.a.createElement(z,null)),n&&s.a.createElement("p",null,n.message))}}]),t}(n.Component),U=Object(S.a)(h.g,O)(B),P=function(){return s.a.createElement(U,null)},W=function(e){var t=Object(n.useRef)(null);Object(n.useEffect)(function(){var e=document.getElementById(D);document.addEventListener("click",function(t){e.contains(t.target)||e.classList.remove("is-active")})});var a=function(){document.getElementById("search").classList.toggle("is-active"),document.getElementById("sign")&&document.getElementById("sign").classList.remove("is-active")};return s.a.createElement("div",{ref:t,id:D,className:"dropdown"},s.a.createElement("div",{className:"dropdown-trigger"},s.a.createElement("button",{className:"button is-primary","aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:a},s.a.createElement("i",{className:"fas fa-search-location"}))),s.a.createElement("div",{className:"dropdown-menu is-left is-full-width",id:"dropdown-menu",role:"menu"},s.a.createElement("div",{className:"dropdown-content"},s.a.createElement("div",{className:"dropdown-item"},s.a.createElement(E,{click:a,zip:e.zip})))))},R=function(e){var t=Object(n.useRef)(null);Object(n.useEffect)(function(){var e=document.getElementById(A);document.addEventListener("click",function(t){e.contains(t.target)||e.classList.remove("is-active")})});return s.a.createElement("div",{id:A,className:"dropdown is-right",ref:t},s.a.createElement("div",{className:"dropdown-trigger"},s.a.createElement("button",{className:"button is-primary","aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:function(){document.getElementById("sign").classList.toggle("is-active"),document.getElementById("search")&&document.getElementById("search").classList.remove("is-active")}},s.a.createElement("i",{className:"fas fa-door-closed"}))),s.a.createElement("div",{className:"dropdown-menu",id:"dropdown-menu",role:"menu"},s.a.createElement("nav",{className:"panel is-primary is-full-width has-background-white ".concat(e.width)},s.a.createElement("p",{className:"panel-heading"},"Sign In"),s.a.createElement("div",{className:"panel-block dropdown-item is-active"},s.a.createElement(P,null)))))},K=a(17),q=a.n(K),F=a(20),H=a(97),V=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={width:window.innerWidth,location:"Tempe, Az 85281",user:{}},a.updateDimensions=function(){a.setState({width:window.innerWidth})},a.componentWillUnmount=function(){window.removeEventListener("resize",a.updateDimensions)},a.componentDidMount=function(){a.setState({user:a.user}),window.addEventListener("resize",a.updateDimensions),navigator.geolocation&&navigator.geolocation.getCurrentPosition(a.setLocation)},a.setLocation=function(e){q.a.get(Object(F.fromLatLng)("".concat(e.coords.latitude,",").concat(e.coords.longitude))).then(function(e){H(e.data.results[0].formatted_address,function(e,t){a.setState({location:"".concat(t.city,", ").concat(t.state)})})}).catch(function(e){return console.log(e)})},a.isMobile=function(){return a.state.width<769},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.authUser;return s.a.createElement("nav",{id:"main-nav",className:"navbar level ".concat(this.isMobile()?"is-mobile":""," pr-2 pl-2 pt-1 is-fixed-top ivory"),role:"navigation"},s.a.createElement("div",{className:"level-left"},s.a.createElement("div",{className:"level-item"},s.a.createElement(C,null)),this.isMobile()?s.a.createElement("div",{className:"level-item"},s.a.createElement(W,{zip:this.state.location})):""),this.isMobile()?"":s.a.createElement("div",{className:"level-item"},s.a.createElement(E,{click:null})),s.a.createElement("div",{className:"level-right"},e?s.a.createElement("div",{className:"level-item"},s.a.createElement(k,null)):"",s.a.createElement("div",{className:"level-item"},e?s.a.createElement(j,null):s.a.createElement(R,{width:this.isMobile()?"is-full-width":"is-one-quarter-width"}))))}}]),t}(n.Component);V.contextType=y;var Y=Object(d.geolocated)({positionOptions:{enableHighAccuracy:!1},userDecisionTimeout:5e3})(Object(h.g)(V)),G=a(3),Z=function(e){return s.a.createElement("article",{className:"media"},s.a.createElement("div",{className:"media-left"},s.a.createElement("figure",{className:"image is-96x96"},s.a.createElement("img",{src:e.image,alt:"LocalsOnly"}))),s.a.createElement("div",{className:"media-content"},s.a.createElement("div",{className:"content"},s.a.createElement("p",null,s.a.createElement("strong",null,e.name),s.a.createElement("br",null),e.description)),s.a.createElement("section",{className:"pl-6 level content"},s.a.createElement("div",{className:"level-left"},s.a.createElement("div",{className:"icon has-text-info level-item"},function(){for(var t=[],a=0;a<e.rating;a++)t.push(s.a.createElement("i",{key:a,className:"fas fa-star"}));return t}(e.rating)),s.a.createElement("p",{className:"pl-6 level-item"},e.reviewCount," ",1===e.reviewCount?"review":"reviews")))),s.a.createElement("div",{className:"media-right"},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"rows"},s.a.createElement(f.b,{className:"content row button is-primary is-outlined",to:"/local?id=".concat(e.id)},"View"),s.a.createElement("button",{className:"button row is-dark"},"Order")))))},_=(a(100),function(e){return s.a.createElement("footer",null,s.a.createElement("div",{id:"footer-".concat(e.i),className:"card-footer mt-1",style:{display:"none"}},s.a.createElement("p",null,"h"),s.a.createElement("p",null,"h"),s.a.createElement("p",null,"h"),s.a.createElement("p",null,"h"),s.a.createElement("p",null,"h"),s.a.createElement("p",null,"h"),s.a.createElement("p",null,"h")),s.a.createElement("div",{className:"columns on-click",onClick:function(){var t=document.getElementById("footer-".concat(e.i)),a=document.getElementById("access-".concat(e.i));"none"===t.style.display?(t.style.display="block",a.classList.remove("fa-angle-down"),a.classList.add("fa-angle-up")):(t.style.display="none",a.classList.remove("fa-angle-up"),a.classList.add("fa-angle-down"))}},s.a.createElement("div",{className:"column is-offset-half is-half"},s.a.createElement("i",{id:"access-".concat(e.i),className:"fas fa-angle-down level-item"}," "))))}),J=a(45),X=function(e){return s.a.createElement("div",{className:"box"},s.a.createElement(Z,{id:e.id,name:e.name,description:e.description,image:J,rating:e.rating,reviewCount:e.reviewCount}),s.a.createElement(_,{i:e.i}))},Q=(a(101),a(28)),$=a.n(Q),ee=a(33),te=Object(ee.GoogleApiWrapper)({apiKey:F.API_KEY})(function(e){return s.a.createElement(ee.Map,{google:e.google,zoom:e.zoom,center:function(){if(void 0!==e.markers[0]&&void 0!==e.markers[0].lat){var t=0,a=0;return e.markers.forEach(function(e){t+=parseFloat(e.lat),a+=parseFloat(e.lng)}),t/=e.markers.length,a/=e.markers.length,{lat:t,lng:a}}return{lat:33.421996,lng:-111.939935}}()},function(){var t=[];return e.markers.forEach(function(e,a){t.push(s.a.createElement(ee.Marker,{key:a,position:{lat:e.lat,lng:e.lng}}))}),t}())}),ae=function(e){return s.a.createElement("div",{className:"cards column is-two-fifths container side"},e.loading?s.a.createElement("div",{className:"loading"},s.a.createElement("progress",{className:"progress is-large is-primary",max:"100"},"15%"),s.a.createElement("p",null,"Wait while we search")):e.children)},ne=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).getMarkers=function(){var e=[];return a.state.items.forEach(function(t,a){e.push({lat:t.lat,lng:t.lng})}),e},a.state={what:[],where:[],items:[],loading:!0},a.componentDidMount=a.componentDidMount.bind(Object(G.a)(Object(G.a)(a))),a.componentDidUpdate=a.componentDidUpdate.bind(Object(G.a)(Object(G.a)(a))),a.getData=a.getData.bind(Object(G.a)(Object(G.a)(a))),a.displayItems=a.displayItems.bind(Object(G.a)(Object(G.a)(a))),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=$.a.parse(this.props.location.search);this.setState({what:t.what,where:t.where},function(){e.getData()})}},{key:"componentDidUpdate",value:function(){var e=$.a.parse(this.props.location.search);this.state.what===e.what&&this.state.where===e.where||(this.setState({what:e.what,where:e.where,loading:!0}),window.location.reload())}},{key:"getData",value:function(){var e=Object(x.a)(L.a.mark(function e(){var t=this;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:q.a.get("https://localsonly-server.herokuapp.com/locals/hashtags/".concat(this.state.what,"/address/").concat(this.state.where)).then(function(e){console.log("Postal courier has delivered your package!");var a=e.data;t.setState({items:a,loading:!1})}).catch(function(){console.log("Postal courier has vanished!")});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"displayItems",value:function(e){return e.length?e.map(function(e,t){return s.a.createElement(X,{key:t,i:t++,id:e.id,name:e.name,description:e.description,rating:e.rating,reviewCount:e.reviewCount})}):s.a.createElement("div",null,"Nothing to see here")}},{key:"render",value:function(){return s.a.createElement("div",{className:"results columns pt-1"},s.a.createElement(ae,{loading:this.state.loading},this.displayItems(this.state.items)),s.a.createElement("div",{id:"map",className:"column container is-medium is-hidden-mobile"},s.a.createElement(te,{zoom:16,markers:this.getMarkers()})))}}]),t}(n.Component),se=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null)}}]),t}(n.Component),ce=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={id:"",items:[],address:[],loading:!0,page:null},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=Object(x.a)(L.a.mark(function e(){var t,a=this;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=$.a.parse(this.props.location.search).id,this.setState({id:t},function(){a.loadItems()});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getData",value:function(){var e=Object(x.a)(L.a.mark(function e(){var t=this;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.get("https://localsonly-server.herokuapp.com/locals/".concat(this.state.id)).then(function(e){console.log("Postal courier has delivered your package!");var a=e.data;t.setState({items:a,address:a.address,loading:!1})}).catch(function(e){console.log("Postal courier has vanished!: ".concat(e))});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"loadItems",value:function(){var e=Object(x.a)(L.a.mark(function e(){var t,a;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData();case 2:t=this.state.items,a=this.state.address,this.setState({page:s.a.createElement("section",{className:"section"},s.a.createElement("h1",{className:"title"},t.name),s.a.createElement("h3",{className:"subtitle"},t.description),s.a.createElement("p",null,a.street),s.a.createElement("p",null,a.city))});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement("div",{className:"local"},this.state.page)}}]),t}(n.Component),le=(a(128),a(40)),ie=a.n(le),re=a(41),oe=a.n(re),me=(a(132),O(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={user:{},name:"",description:"",street:"",apt:"",city:"",state:"alabama",zip:"",tags:[],rating:1,validate:!1,marker:{},lat:"",lng:""},a.handleChange=a.handleChange.bind(Object(G.a)(Object(G.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(G.a)(Object(G.a)(a))),a.handleTag=a.handleTag.bind(Object(G.a)(Object(G.a)(a))),a.changeRating=a.changeRating.bind(Object(G.a)(Object(G.a)(a))),a.isMobile=a.isMobile.bind(Object(G.a)(Object(G.a)(a))),a.isDesktop=a.isDesktop.bind(Object(G.a)(Object(G.a)(a))),a.componentDidMount=a.componentDidMount.bind(Object(G.a)(Object(G.a)(a))),a.stateOptions=a.stateOptions.bind(Object(G.a)(Object(G.a)(a))),a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(t){t?e.setState({user:t}):e.setState({user:null})})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"handleChange",value:function(e){var t=e.target;console.log("".concat(t.name,": ").concat(t.value)),this.setState(Object(p.a)({},t.name,t.value)),e.preventDefault()}},{key:"handleTag",value:function(e){this.setState({tags:e})}},{key:"handleSubmit",value:function(){var e=Object(x.a)(L.a.mark(function e(t){var a,n=this;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a="".concat(this.state.street).concat(""===this.state.apt?"+":",+".concat(this.state.apt),",+").concat(this.state.city,",+").concat(this.state.state,"+").concat(this.state.zip),q.a.get("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(a,"&key=").concat(F.API_KEY)).then(function(e){var t=e.data.results[0].geometry.location.lat,a=e.data.results[0].geometry.location.lng;n.setState({lat:t,lng:a})}).catch(function(e){console.log(e)});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"changeRating",value:function(e,t){this.setState({rating:e})}},{key:"stateOptions",value:function(){return F.STATES.map(function(e){return s.a.createElement("option",{key:e,value:e.toLowerCase()},e)})}},{key:"isMobile",value:function(){return s.a.createElement("div",{className:"is-hidden-tablet columns"},s.a.createElement("form",{className:"column",onSubmit:this.handleSubmit},s.a.createElement("input",{type:"text",className:"input",placeholder:"Location Name*",value:this.state.name,onChange:this.handleChange,name:"name",required:!0}),s.a.createElement("div",{className:"pt-6 pb-6"},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement("input",{type:"text",className:"input",placeholder:"Street Address*",value:this.state.street,onChange:this.handleChange,name:"street",required:!0})),s.a.createElement("div",{className:"column"},s.a.createElement("input",{type:"text",className:"input",placeholder:"Apt. #",value:this.state.apt,onChange:this.handleChange,name:"apt"}))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement("input",{type:"text",className:"input",placeholder:"City/Town*",value:this.state.city,onChange:this.handleChange,name:"city",required:!0})),s.a.createElement("div",{className:"column"},s.a.createElement("div",{className:"select"},s.a.createElement("select",{name:"state",id:"state",value:this.state.state,onChange:this.handleChange},this.stateOptions()))),s.a.createElement("div",{className:"column"},s.a.createElement("input",{type:"text",className:"input",placeholder:"Postal Code*",value:this.state.zip,onChange:this.handleChange,name:"zip",required:!0})))),s.a.createElement("textarea",{minLength:"0",placeholder:"Description*: Minumum of 150 characters",name:"description",id:"description",cols:"30",rows:"2",className:"textarea column",value:this.state.description,onChange:this.handleChange}),s.a.createElement("div",{className:"column"},s.a.createElement(ie.a,{rating:this.state.rating,starRatedColor:"red",changeRating:this.changeRating,name:"rating",starDimension:"30px"})),s.a.createElement("div",{className:"column"},s.a.createElement(oe.a,{value:this.state.tags,onChange:this.handleTag,onlyUnique:"true"})),s.a.createElement("input",{type:"submit",className:"input button is-primary",value:"Localize Me!"})))}},{key:"isDesktop",value:function(){}},{key:"render",value:function(){var e=this.state.user;return s.a.createElement("div",null,e?s.a.createElement("div",{className:"pt-6"},s.a.createElement("div",{className:"section"},s.a.createElement("h1",{className:"title"},"Create New Local"),s.a.createElement("div",{className:" columns"},s.a.createElement("form",{className:"column is-one-third",onSubmit:this.handleSubmit},s.a.createElement("input",{type:"text",className:"input",placeholder:"Location Name*",value:this.state.name,onChange:this.handleChange,name:"name",required:!0}),s.a.createElement("div",{className:"pt-6 pb-6"},s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement("input",{type:"text",className:"input",placeholder:"Street Address*",value:this.state.street,onChange:this.handleChange,name:"street",required:!0})),s.a.createElement("div",{className:"column"},s.a.createElement("input",{type:"text",className:"input",placeholder:"Apt. #",onChange:this.handleChange,name:"apt"}))),s.a.createElement("div",{className:"columns"},s.a.createElement("div",{className:"column"},s.a.createElement("input",{type:"text",className:"input",placeholder:"City/Town*",value:this.state.city,onChange:this.handleChange,name:"city",required:!0})),s.a.createElement("div",{className:"column is-one-third"},s.a.createElement("div",{className:"select"},s.a.createElement("select",{name:"state",id:"state",value:this.state.state,onChange:this.handleChange},this.stateOptions()))),s.a.createElement("div",{className:"column"},s.a.createElement("input",{type:"text",className:"input",placeholder:"Postal Code*",value:this.state.zip,onChange:this.handleChange,name:"zip",required:!0})))),s.a.createElement("textarea",{minLength:"150",placeholder:"Description*: Minumum of 150 characters",name:"description",id:"description",cols:"30",rows:"2",className:"textarea column",value:this.state.description,onChange:this.handleChange}),s.a.createElement("div",{className:"column"},s.a.createElement(ie.a,{rating:this.state.rating,starRatedColor:"red",changeRating:this.changeRating,name:"rating",starDimension:"40px"})),s.a.createElement("div",{className:"column"},s.a.createElement(oe.a,{value:this.state.tags,onChange:this.handleTag,onlyUnique:"true"})),s.a.createElement("input",{type:"submit",className:"input button is-primary",value:"Localize Me!"})),s.a.createElement("div",{id:"map",className:"column container is-medium is-hidden-mobile"},""!==this.state.lat?s.a.createElement(te,{zoom:17,markers:[{lat:this.state.lat,lng:this.state.lng}]}):"")))):s.a.createElement("div",{className:"columns pt-7 is-centered"},s.a.createElement("div",{className:"column is-half"},s.a.createElement("h2",{className:"title is-small has-text-centered"},"Sign In"),s.a.createElement(P,null))))}}]),t}(n.Component))),ue=(a(133),function(e){return s.a.createElement("div",{className:"form"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{type:"date",className:"input",onChange:function(t){var a=new Date(t.target.value),n=Date.now()-a.getTime(),s=new Date(n);e.setStatus(Object(v.a)({},e.status,{age:s.getUTCFullYear()-1970>=13}))}})))}),de=function(e){var t=e.address,a=e.setAddress,n=e.status,c=e.setStatus,l=function(e){var n=e.target,s=n.name,c=n.value;a(Object(v.a)({},t,Object(p.a)({},s,c))),r()||i(),e.preventDefault()},i=function(){r()||q.a.get(Object(F.fromAddress)(t)).then(function(e){200===e.status?c(Object(v.a)({},n,{address:!0})):c(Object(v.a)({},n,{address:!1}))}).catch(function(e){console.log(e)})},r=function(){return""===t.street||""===t.city||""===t.state||""===t.zip||t.zip.length<4};return s.a.createElement("div",{className:"form"},s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{type:"text",placeholder:"Street",className:"input",name:"street",value:t.street,onChange:l}))),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{type:"text",placeholder:"Apt.",className:"input",name:"apt",value:t.apt,onChange:l}))),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{type:"text",placeholder:"City/Town",className:"input",name:"city",value:t.city,onChange:l}))),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{type:"text",placeholder:"State",className:"input",name:"state",value:t.state,onChange:l}))),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{type:"text",placeholder:"Zipcode",className:"input",name:"zip",value:t.zip,onChange:l}))))},he=O(Object(S.a)(h.g,O)(function(e){var t=e.firebase,a=Object(h.f)(),c=Object(n.useState)({street:"",apt:"",city:"",state:"",zip:""}),l=Object(g.a)(c,2),i=l[0],r=l[1],o=Object(n.useState)(!1),m=Object(g.a)(o,2),u=m[0],d=m[1];Object(n.useEffect)(function(){t.auth.onAuthStateChanged(function(e){d(!!e)})});var p=Object(n.useState)({name:"",email:"",passwordOne:"",passwordTwo:"",error:null}),v=Object(g.a)(p,2),E=v[0],f=v[1],b=Object(n.useState)({age:!1,address:!1,user:!1}),N=Object(g.a)(b,2),w=N[0],y=N[1];return s.a.createElement("div",{className:"registration"},u?s.a.createElement("div",{className:"section text-center"},s.a.createElement("p",{className:"container subtitle"},"Looks like you already have an account"),s.a.createElement("div",{className:"columns is-centered"},s.a.createElement("div",{className:"column is-one-fifth"},s.a.createElement("p",{className:"button"},"Profile")),s.a.createElement("div",{className:"column is-one-fifth"},s.a.createElement("p",{className:"button"},"Home")))):s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"section text-center"},s.a.createElement("div",{className:"container"},s.a.createElement("label",{className:"title"},"Registration"))),s.a.createElement("section",{className:"columns is-centered"},s.a.createElement("div",{className:"column is-4"},s.a.createElement("label",{className:"label"},"Credentials",s.a.createElement(M,{firebase:t,status:w,setUser:f,setStatus:y,user:E})),s.a.createElement("label",{className:"label"},"Birthday",s.a.createElement(ue,{status:w,setStatus:y}),s.a.createElement("small",{className:"help ".concat(w.age?"is-success":"is-danger")},"Must be at least 13"))),s.a.createElement("div",{className:"column is-4"},s.a.createElement("label",{className:"label"},"Address",s.a.createElement(de,{address:i,status:w,setStatus:y,setAddress:r}),s.a.createElement("small",{className:"help is-info"},"We only save the ",s.a.createElement("u",null,s.a.createElement("b",null,"city & state")),", the rest is for verification.")),s.a.createElement("button",{className:"button",disabled:!(w.age&&w.address&&w.user),onClick:function(){t.createUserWithEmailAndPassword(E.email,E.passwordOne).then(function(e){var t=e.user.uid;q.a.post("https://localsonly-server.herokuapp.com/user",{authID:t,email:e.email,name:e.name,localTo:"".concat(Object(F.getAbbrs)(i.state).toLowerCase(),":").concat(i.city.toLowerCase())}).then(function(e){console.log(e),a.push("/")}).catch(function(e){return console})}).catch(function(e){return console})}},"Sign Up")))))})),pe=O(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={authUser:null},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged(function(t){t?e.setState({authUser:t}):e.setState({authUser:null})})}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return s.a.createElement(f.a,null,s.a.createElement(Y,{authUser:this.state.authUser}),s.a.createElement(h.c,null,s.a.createElement(h.a,{exact:!0,path:"/",component:se}),s.a.createElement(h.a,{exact:!0,path:"/registration",component:he}),s.a.createElement(h.a,{exact:!0,path:"/createNewLocal",component:me}),s.a.createElement(h.a,{path:"/search",component:ne}),s.a.createElement(h.a,{path:"/local",component:ce})))}}]),t}(n.Component));l.a.render(s.a.createElement(y.Provider,{value:new function e(){var t=this;Object(i.a)(this,e),this.createUserWithEmailAndPassword=function(e,a){return t.auth.createUserWithEmailAndPassword(e,a)},this.emailIsAvailable=function(e){return t.auth.fetchSignInMethodsForEmail(e)},this.signInWithEmailAndPassword=function(e,a){return t.auth.signInWithEmailAndPassword(e,a)},this.signOut=function(){return t.auth.signOut()},this.passwordReset=function(e){return t.auth.sendPasswordResetEmail(e)},this.updatePassword=function(e){return t.auth.currentUser.updatePassword(e)},N.a.apps.length||N.a.initializeApp(w),this.auth=N.a.auth()}},s.a.createElement(pe,null)),document.getElementById("root"))},20:function(e,t){var a=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","DC"],n=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming","District of Columbia"],s="AIzaSyAzL6UpXmTecGIQBO0HHMvFScNhiSmlzfM";e.exports={STATES:n,API_KEY:s,fromLatLng:function(e){return"https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(e,"&key=").concat(s)},fromAddress:function(e){var t="".concat(e.street.replace(/ /g,"+")).concat(""===e.apt?"+":",+".concat(e.apt),",+").concat(e.city,",+").concat(e.state,"+").concat(e.zip);return"https://maps.googleapis.com/maps/api/geocode/json?address=".concat(t,"&key=").concat(s)},getAbbrs:function(e){for(var t=0;t<n.length;t++)if(e===n[t])return a[t]}}},42:function(e,t,a){},45:function(e,t,a){e.exports=a.p+"static/media/LocalsOnly.0f9223cc.png"},59:function(e,t,a){e.exports=a(134)}},[[59,1,2]]]);
//# sourceMappingURL=main.8bcda829.chunk.js.map